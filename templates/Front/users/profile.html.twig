{% extends 'Front/base.html.twig' %}

{% block content %}
    <div class="w-full min-h-screen bg-grey-lightest">
        <div class="w-5/6 h-screen m-auto flex justify-between text-grey-darkest pt-12">
            <div class="h-full">
                <h1 class="border-l-4 border-primary pl-2 text mb-4">Mes annonces</h1>
                {% include 'Front/adverts/_advert.html.twig' with { 'adverts': adverts }%}
            </div>
            <div class="h-full">
                <h1 class="border-l-4 border-primary pl-2 text mb-4">Profil</h1>
                <div class="bg-white flex flex-col shadow rounded relative" style="width:360px; height: 181px;">
                    <div class="profile-edit-btn" style="">
                        <i class="fas fa-edit text-white"></i>
                    </div>
                    <div class="flex flex-grow">
                        <div class="flex flex-col justify-center items-center px-2">
                            <img src="" alt="" style="width: 55px; height: 55px;" class="rounded-full bg-grey">
                            <div class="flex mt-2">
                                {% for i in 1..5 %}
                                    <i class="fas fa-star text-orange-light"></i>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="px-2 flex flex-col justify-center">
                            <p class="text-primary font-bold">{{ user.username }}</p>
                            <p class="text-sm">Pontault-Combault</p>
                        </div>
                    </div>
                    <div class="bg-primary flex justify-around items-center text-white rounded-b" style="height: 52px;">
                        <p class="border-r-2 px-3">{{ infos.cnt_games }} jeux</p>
                        <p class="border-r-2 px-3">{{ infos.cnt_echange }} échanges</p>
                        <p class="px-3">{{ infos.cnt_location }} locations</p>
                    </div>
                </div>
            </div>
            <div class="h-full" style="width: 300px;">
                <h1 class="border-l-4 border-primary pl-2 text mb-4">Bibliothèque</h1>
                {% for gamePlatform in user.gamePlatforms %}
                    <div class="flex profile-game-card">
                        <div class="w-1/3 flex justify-center items-center">
                            <img src="{{ vich_uploader_asset(gamePlatform.game, 'imgFile') }}" alt="" width="50px" height="60px">
                        </div>
                        <div class="w-2/3 flex items-center">
                            <ul class="list-reset">
                                <li class="pb-1 "><a class="font-bold" href="{{ path('user_game_edit', {'gamePlatform' : gamePlatform.id}) }}">{{ gamePlatform.game.name }}</a></li>
                                <li class="pb-1 text-sm text-grey-darker">{{ gamePlatform.game.editor.name }}</li>
                                <li class="pb-1 text-sm text-grey-dark">{{ gamePlatform.game.releaseDate | localizeddate('medium', 'none') }}</li>
                                <li>{{ gamePlatform.platform.name }}</li>
                            </ul>
                        </div>


                    </div>
                {% endfor %}
                <a href="{{ path('user_game_add') }}">Ajouter un jeu</a>
            </div>
        </div>
    </div>
{% endblock %}